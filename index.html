<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Auth with Firebase</title>
    <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-auth.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDhK3eL-oTKEbEIlKCGhfA_GDP-4Fpevkg",
        authDomain: "instan-t.firebaseapp.com",
        databaseURL: "https://instan-t.firebaseio.com",
        projectId: "instan-t",
        storageBucket: "instan-t.appspot.com",
        messagingSenderId: "652856288522",
        appId: "1:652856288522:web:800bf8333f28fedf5b86f3",
        measurementId: "G-H0B56Z3EPH",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
    </script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.0/firebase-ui-auth.js"></script>
    <style>
      .profile {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
      }
    </style>
  </head>
  <body>
    <h1>Facebook or Google Login</h1>
    <button id="fb">login with FB</button>
    <button id="Google">login with Google</button>
    <div id="message"></div>
    <script>
      // Initialize the FirebaseUI Widget using Firebase.
      var ui = new firebaseui.auth.AuthUI(firebase.auth());
      const auth = firebase.auth();
      const btnLoginFB = document.querySelector("#fb");
      const btnLoginGoogle = document.querySelector("#Google");
      const messageHome = document.querySelector("#message");
      const signUpFB = () => {
        const facebookProvider = new firebase.auth.FacebookAuthProvider();
        auth.signInWithPopup(facebookProvider).then((result) => {
          console.log(result.user);
          message.innerHTML = `Bonjour ${result.user.displayName}<br><img src="${result.user.photoURL}" class="profile" />`;
        });
      };
      const signUpGoogle = () => {
        const googleProvider = new firebase.auth.GoogleAuthProvider();
        auth.signInWithPopup(googleProvider).then((result) => {
          console.log(result.user);
          message.innerHTML = `Bonjour ${result.user.displayName}<br><img src="${result.user.photoURL}" class="profile" />`;
        });
      };
      btnLoginFB.addEventListener("click", signUpFB);
      btnLoginGoogle.addEventListener("click", signUpGoogle);
    </script>
  </body>
</html>
